(py_visualize) $ python PlotWeatherCompPrevYear_sqlite3.py --sqlite3-db ~/db/weather.db --device-name esp8266_1 --year-month 2023-08
INFO connection: <sqlite3.Connection object at 0x7f7874859240>
INFO query_params: ('esp8266_1', '2023-08-01 00:00:00', '2023-09-01 00:00:00')
INFO         measurement_time  temp_out  humid  pressure
0    2023-07-31 15:07:04      21.6   58.7    1006.8
1    2023-07-31 15:16:48      21.7   59.1    1006.8
2    2023-07-31 15:26:33      21.8   58.7    1006.9
3    2023-07-31 15:36:17      21.7   58.5    1007.0
4    2023-07-31 15:46:01      21.4   59.5    1007.0
...                  ...       ...    ...       ...
4579 2023-08-31 14:20:51      24.5   74.6    1008.5
4580 2023-08-31 14:30:36      24.5   74.6    1008.5
4581 2023-08-31 14:40:20      24.3   75.9    1008.4
4582 2023-08-31 14:50:04      24.2   76.7    1008.3
4583 2023-08-31 14:59:48      24.2   77.0    1008.1

[4584 rows x 4 columns]
INFO query_params: ('esp8266_1', '2022-08-01 00:00:00', '2022-09-01 00:00:00')
INFO         measurement_time  temp_out  humid  pressure
0    2022-07-31 15:01:44      24.4   70.1    1008.9
1    2022-07-31 15:11:29      24.0   69.8    1008.7
2    2022-07-31 15:21:13      24.0   69.3    1008.7
3    2022-07-31 15:30:58      23.9   69.2    1008.9
4    2022-07-31 15:40:42      23.8   68.9    1009.0
...                  ...       ...    ...       ...
4574 2022-08-31 14:20:20      17.3   65.1    1002.0
4575 2022-08-31 14:30:04      17.4   65.3    1002.1
4576 2022-08-31 14:39:48      17.4   65.7    1002.1
4577 2022-08-31 14:49:33      17.4   65.5    1002.4
4578 2022-08-31 14:59:16      17.4   65.5    1002.4

[4579 rows x 4 columns]
INFO fig: Figure(980x640)
DEBUG data.len: 249316
INFO output/PlotWeatherCompPrevYear_sqlite3.html


▲ dictパラメータが使えない
Execution failed on sql '
SELECT
   measurement_time, temp_out, humid, pressure
FROM
   t_weather
WHERE
   did=(SELECT id FROM t_device WHERE name=%(deviceName)s)
   AND (
      measurement_time >=%(fromDate)s
      AND
      measurement_time <%(toDate)s
   )
ORDER BY measurement_time;
': near "%": syntax error

